{% extends 'base.html' %}
{% load static %}

{% block title %}Регистрация - Правен Асистент{% endblock %}

{% block content %}
<section class="hero-section d-flex justify-content-center align-items-center">
    <div class="container">
        <div class="row">
            <div class="col-lg-5 col-12 mx-auto">
                <!-- Регистрационна форма -->
                <form class="custom-form" role="form" method="post" action="{% url 'register' %}">
                    {% csrf_token %}
                    <h2 class="hero-title text-center mb-4 pb-2">Регистрация</h2>

                    <!-- Поле за потребителско име с проверка за грешки -->
                    <div class="form-floating mt-4">
                        <input type="text" name="username" id="username" class="form-control {% if form.username.errors %}is-invalid{% endif %}" placeholder="Потребителско име" value="{{ form.username.value|default_if_none:'' }}" required>
                        <label for="username">Потребителско име</label>
                        {% for error in form.username.errors %}
                            <div class="invalid-feedback">{{ error }}</div>
                        {% endfor %}
                    </div>

                    <!-- Поле за имейл с проверка за грешки -->
                    <div class="form-floating mt-4">
                        <input type="email" name="email" id="email" class="form-control {% if form.email.errors %}is-invalid{% endif %}" placeholder="Имейл" value="{{ form.email.value|default_if_none:'' }}" required>
                        <label for="email">Имейл</label>
                        {% for error in form.email.errors %}
                            <div class="invalid-feedback">{{ error }}</div>
                        {% endfor %}
                    </div>

                    <!-- Поле за първа парола с проверка за грешки -->
                    <div class="form-floating mt-4">
                        <input type="password" name="password1" id="password1" class="form-control {% if form.password1.errors %}is-invalid{% endif %}" placeholder="Парола" required>
                        <label for="password1">Парола</label>
                        {% for error in form.password1.errors %}
                            <div class="invalid-feedback">{{ error }}</div>
                        {% endfor %}
                    </div>

                    <!-- Поле за потвърждение на парола с проверка за грешки -->
                    <div class="form-floating mt-4">
                        <input type="password" name="password2" id="password2" class="form-control {% if form.password2.errors %}is-invalid{% endif %}" placeholder="Потвърдете Паролата" required>
                        <label for="password2">Потвърдете Паролата</label>
                        {% for error in form.password2.errors %}
                            <div class="invalid-feedback">{{ error }}</div>
                        {% endfor %}
                    </div>

                    <div class="row">
                        <div class="col-lg-5 col-12 mx-auto">
                            <button type="submit" class="form-control">Регистрирай се</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="video-wrap">
        <video autoplay loop muted class="custom-video" poster="">
            <source src="{% static 'videos/video.mp4' %}" type="video/mp4">
            Вашият браузър не поддържа видео таг.
        </video>
    </div>
</section>
{% endblock %}
